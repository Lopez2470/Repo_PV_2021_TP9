<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
		<title>ComprasListado</title>
		<link rel="stylesheet" type="text/css" th:href=@{/webjars/bootstrap/4.6.0/css/bootstrap.min.css}>
		<link rel="stylesheet" type="text/css" th:href="@{/css/miestilo.css}">		
	</head>
	<body>
		<div class="container">
			<header th:replace="layout/header :: header"></header>
			<div class="row ">
			
			
			
			<div class="col-md-8 justify-content-left">
				<form th:action="@{/compra/busqueda}" th:object="${compra}" th:method="GET">
					<div class="form-group row">
						<label for="nomproducto" class="col-sm-3 col-form-label">Nombre Producto</label>
						<div class="col-sm-5">
							<input type="text" class="form-control" id="nomproducto" th:field="*{producto.nombre}">
						</div>
					</div>
					<div class="form-group row">
						<label for="montototal" class="col-sm-3 col-form-label">Total Compra</label>
						<div class="col-sm-5">
							<input type="number" class="form-control" id="montototal" th:field="*{total}">
						</div>
					</div>
					<button type="submit"  class="btn btn-success">Buscar</button>
				</form>
			</div>
			
			
			
				<section class=" col-sm-6 col-md-9 bg-light">
					<div class="titulo01 col-12 text-center">
						<h3 class="text-center">LISTADO DE COMPRAS</h3>
						</div >
							<div class="table-responsive">
								<table class="table table-over table-dark" id="tbCompra">
									<thead>
										<tr>
											<th>Codigo</th>
											<th>Producto</th>
											<th>Nom-Producto</th>
											<th>Precio-Producto</th>
											<th>Cantidad</th>
											<th>Total</th>
											<th>Acciones</th>
										</tr>
									</thead>
									<tbody>
										<tr th:each="comp : ${compras}">
											<td th:text="${comp.codigo}"></td>
											<td th:text="${comp.producto.codigo}"></td>
											<td th:text="${comp.producto.nombre}"></td>
											<td th:text="${comp.producto.precio}"></td>
											<td th:text="${(comp.cantidad)}"></td>
											<!-- <td th:text="${(comp.obtenerCalculoTotal())}"></td>  -->
											<td th:text="${(comp.total)}"></td>
											<td>
												<a th:href="@{/compra/editar/}+${comp.id}" class="btn btn-warning">Editar</a>
											</td>
											<td>
												<a th:href="@{/compra/eliminar/}+${comp.id}" class="btn btn-danger">Eliminar</a>
											</td>
							
						
										</tr>
									</tbody>
								</table>
								
							</div>
				</section>
				<aside th:replace="layout/publicidad :: publicidad"></aside>
			</div>
			<footer th:replace="layout/footer :: footer"></footer>
		</div>
	</body>
</html>